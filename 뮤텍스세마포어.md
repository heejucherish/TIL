뮤텍스 세마포어

- 사전지식
  - 교착상태: 두가지 이상의 작업이 서로 상대방의 작업이 끝나기를 기다리는것 
    - 임계 영역: 이런 교착상태가 일어날수 있는 영역 
    - 조건 : 상호배제,점유 대기, 비선점, 순환대기
      - 상호 배제: 프로세스들이 필요로 하는자원에 대해 배타적인 통제권 요구 
        - 하나의 프로세스가 공유자원을 사용할때 다른 자원이 동일한 공유자원에 접근할 수 없도록 막는것을 뜻함
- mutex 
  - 여러 스레드를 실행하는 환경에서 자원에 대한 접근에 제한을 강제하기 위한 동기화 매커니즘
  - 임계 영역에 스레드가 있을 경우 다른 스레드가 공유 자원을 사용 하려고 하면 > 스레드를 blocking > 대기큐 sleep 
  - Boolean 타입의  Lock 변수를 사용한다. 
  - LOCK을 건 스레드만 LOCK을 해제할 수있다. 
  - LOCK :임계 영역에 스레드가 들어오면 임계영역 잠금 
  - 대기 방식 2가지 
    - 대기 큐 sleep
    - SpinLock 
      - 기본적으로 뮤텍스와 유사하다. 
      - Busy-waiting 하며 대기 큐를 갖지 않는다. 
      - Mutex-nonblocking 모델로 볼수있다.
      - 언제 사용 ? 
        - 대기실까지 이동하는 시간보다 식당에 진입하게 될 시간이 더 짧을 때  =컨텍스트 스위칭 시간이 더 짧은가
        - 직원이 여러명인 경우 = 멀티 코어 프로세스 인가? 

- 세마포어 
  - 멀티 프로그래밍 환경에서 다수의 프로세스나 스레드의 여러개의 공유 자원에 대한 접근을 제한하는 방법으로 사용된다.
  - 계수 세마포어로 사용하수가 있으며 접근 가능한 자원의 수가 1개일 때는 이진 세마포어로 뮤텍스처럼 사용 할 수있다. 
  - LOCK을 걸지않는 쓰레드도 signal을 보내서 LOCK을 해제 할 수있다. 
  - 다수의 프로세스들이 상호 배제를 하면서 공유 자원 사용 
    - 뮤텍스랑 차이점
      - 여러 스레드가 동시에 접근할 수 있다. 
    - Atomic Operation
      - 스레드 진입 P, 스레드 반출 V
      - P(proberen) - 테스트 하다 wait
      - V - 증가하다 함수 signal
  - 대기 방식 2가지
    - sleep-waiting 방식 - 대기 큐 
    - spinlock - busywaithin 
      - 빈 스레드 counter 음수 의미 : 대기하고 있는 프로세스 수 