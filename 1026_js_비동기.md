index

- 동기와 비동기
- 비동기처리
- axios 라이브러리
- 콜백 프로미스

#### 동기와 비동기

- 동기식 : 주문후 커피가 나올때까지 뒤에 사람이 기다려야한다
- 비동기 : 주문후 본인이 해야할것들 다른것들을 할 수 있다. 

- 동기
  - 모든 일을 순서대로 하나씩 처리
  - 우리가 했던 python 코드가 모두 동기식
  - **요청과 응답을 동기식으로 처리한다면?**
    - **요청을 보내고 응답이 올때까지 기다렸다가 다음 로직을 처리**

- 비동기
  - 기다리지 않고 다음 코드로 넘어간다. 
  - 동기로 처리한다면 앱이 멈춘것과 같은 경험을 겪게됨
  - 비동기로 처리한다면 먼저 처리되는 부분부터 보여줄 수 있으므로 사용자 경험에 긍정적인 효과를 볼 수 있음. 
  - 많은 웹 기능들은 비동기 식으로 작성되고있다. 

#### 자바스크립트 비동기처리

- 자바 스크립트는 하나의 일만 처리할수 있는 single thread 언어이다. 
- 기본적으로 자바스크립트 혼자서 비동기식으로 할 수 없다. 
- 왜 그게 가능한것인가..?
  - 자바스크립트 싱글 스레드 보완 
    - 비동기 처리를 할 수있도록 도와주는 환경
      - Runtime 환경 
        - 브라우저와 node.js 
          - call stack
          - web api
          - task 큐 
- 비동기 처리 동작 방식
  - 모든 작업은 call stack(LIFO) 으로 들어간 후 처리된다. 
  - 오래 걸리는 작업이 Call stack으로 들어오면 web api로 보내 별도로 처리하도록 한다. 
  - web api에서 처리가 끝난 작업들은 call stack 으로 들어가지 못하고 task queue 에 순서대로 들어간다. 
  - event loop가 call stack이 비어있는 것을 계속 처리하고 call stack이 빈다면 task queue에서 가장 오래된 작업을 call stack으로 보낸다. 
  - settimeout 0 : 제로딜레이 > web api에서 0초 기다렸다가 task queue에 가서 그다음 callstack으로 넘어감 
  - 비동기시간의 선후관계를 보장할 수 없다. 

#### Axios 라이브러리

- 자바스크립트 http 웹 통신 위한 라이브러리
- 확장 가능한 인터페이스와 쉽게 사용할수있는 비동기 라이브러리
- 같은방식으로 뷰 > 장고 로 넘어가는 방식을 처리해줌 
- CDN 필요
- axios.get post 여러 method 사용가능
- .then : 성공하면 수행할 로직 작성
- .catch : 실패하면 수행할 로직 작성
- 비동기 처리 코드의 실행 순서가 불명확하다는 단점이 있다
  - 단점 해결
    - 콜백 함수를 사용하자

#### 콜백함수

- 다른 함수의 인자로 전달되는 함수
- 비동기 작업이 완료된 후 실행할 작업을 명시하는데 사용되는 콜백함수를 비동기 콜백이라고 부름

- 비동기 작업을 순차적으로 실행할수있게 만드는것
- 하지만 콜백헬
  - 등장 프로미스

#### Promise

- 비동기 처리를 위한 객체 
- 작업이 끝나면 실행 시켜줄게 
- 순서를 보장해준다. 
- 비동기 작업의 완료 또는 실패를 나타내는 객체
- axios 라이브러리
  - then : 성공 약속
  - catch : 실패 약속
  - then
    - 이전 작업의 성공 결과를 받음 
  - catch
    - then 이 하나라도 실패 하면 콜백 실행
    - 콜백은 이전 작업의 실패 객체를 인자로 전달 받음

- then&catch

  - then과 catch는 모두 한상 프로미스 객체를 반환

  - 그래서 계쏙 chaining 할수있음

  - axios로 처리한 비동기 로직이 항상 프로미스 객체를 반환

  - 쪼개서 then 해도 됨. 

  - 두번째 then은 첫번째 then이 성공해야 실행될수있다. 

  - catch는 위에있는 then들이 하나라도 실패하면 바로 실행 

    

- 비동기 콜백 과 Promise 차이점
  - 프로미스는 깊어지지않는다. 

- then은 return으로 결과값을 넘겨주기 
  - 첫번째 then > return result > 그다음 then

- Promise의 가장 큰 장점은 chaining 
  - 각각 콜백은 주어진 순서대로 하나하나 실행되게됨